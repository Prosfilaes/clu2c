Thu Feb 06 04:44:02 1997  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Version 1.99.3 (2.0-beta3) released.

Mon Jun 10 09:54:00 1996  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Version 1.99.2 (2.0-beta2) released.

Sun May 12 07:16:09 1996  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jaio.h, jclearer.c, jdecode.c, jencode.c, jfclose.c, jfeof.c,
        jferror.c, jfflush.c, jfgetc.c, jfgetpos.c, jfgets.c, jfill.c,
        jflush.c, jfnputs.c, jfopen.c, jfp.c, jfprintf.c, jfputc.c,
        jfputs.c, jfreopen.c, jfscanf.c, jfseek.c, jfsetpos.c, jftell.c,
        jgetc.c, jgetchar.c, jgetcsys.c, jgets.c, jperror.c, jprintf.c,
        jputc.c, jputchar.c, jputs.c, jrewind.c, jscanf.c, jsetbuf.c,
        jsetcset.c, jsetcsys.c, jsetvbuf.c, jsprintf.c, jsscanf.c,
        jungetc.c, jv_print.c, jv_scanf.c, jvfprint.c, jvprintf.c,
        jvsprint.c, local.h, sjis.c: Doc fix.

Sat Apr 27 05:10:24 1996  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Removed `remove.bat' from the list of non-source
        files.

Sun Jan 14 14:11:49 1996  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Current directory is now `jaio'.

	* jaio.h: Renamed from jpio.h.  All relevant files have been
        changed accordingly.

	* All names with the prefix `JPIO_' have been renamed so that they
	start with the prefix `ja_'.

Thu Jan 11 12:41:10 1996  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfill.c (JPIO_fill): Renamed from `_JPIO_fill'.
	* jflush.c (JPIO_flush): Renamed from `_JPIO_flush'.
	* jfgets.c, jpio.h: Changed accordingly.

	* jfflush.c (_JPIO_fflush): Removed.  The contents of this
	function has been integrated into `JPIO_fflush'.

	* jfp.c (JPIO_stdio): Renamed from `_JPIO_stdio'.
	(JPIO_streams): Renamed from `_JPIO_fptable'.
	(JPIO_ttys): Renamed from `_JPIO_ttys'.
	(JPIO_flookup): Renamed from `_JPIO_findfp'.
	(JPIO_forall): Renamed from `_JPIO_forall'.
	(JPIO_tty_lookup): Renamed from `_JPIO_getttyent'.
	(JPIO_tty_sync): Renamed from `_JPIO_synctty'.
	(JPIO_tty_set): Renamed from `_JPIO_settty'.
	* jfflush.c, jfill.c, jflush.c, jfopen.c, jpio.h, local.h: Changed
        accordingly.

	* local.h (LINE_BUFFERED): New macro.
	(UNBUFFERED): Ditto.
	(READING): Ditto.
	(WRITING): Ditto.
	(UPDATE): Ditto.
	(AUTO_BUFFER): Ditto.
	* jfclose.c, jfflush.c, jfgetpos.c, jfgets.c, jfill.c, jflush.c,
        jfnputs.c, jfsetpos.c, jungetc.c: Make use of these macros.

	* jpio.h (JPIO_LINE_BUFFERED): Renamed from `_JPIO_LBF'.
	(JPIO_UNBUFFERED): Renamed from `_JPIO_NBF'.
	(JPIO_READING): Renamed from `_JPIO_RD'.
	(JPIO_WRITING): Renamed from `_JPIO_WR'.
	(JPIO_UPDATE): Renamed from `_JPIO_RW'.
	(JPIO_AUTO_BUFFER): Renamed from `_JPIO_MBF'.
	* jfclose.c, jfflush.c, jfgetpos.c, jfgets.c, jfill.c, jflush.c,
        jfnputs.c, jfopen.c, jfp.c, jfsetpos.c, jsetvbuf.c, jungetc.c:
        Changed accordingly.

	* jfputc.c (JPIO_fputc): Declare character argument as `int'.
	* jputc.c (JPIO_putc): Likewise.
	* jputchar.c (JPIO_putchar): Likewise.

	* jfp.c (JPIO_initialized): Renamed from `_JPIO_initialized'.
	(JPIO_init): Renamd from `_JPIO_init'.
	(JPIO_cleanup): Renamed from `_JPIO_cleanup'.
	* jflush.c (_JPIO_flush): Changed accordingly.
	* local.h: Changed accordingly.

	* jsetcsys.c (JPIO_setcsys): Set the coding system for the
        decoder, if any, as well.

	* jpio.h (JPIO_FILE): Removed the member `fill', which is no
        longer used.
	* jfopen.c (JPIO_create_stream): Changed accordingly.
	* jfp.c (MKFILE): Likewise.
	* jsetcsys.c (JPIO_setcsys): Likewise.

	* jpio.h (JPIO_mclearerr): Renamed from `_JPIO_clearerr'.
	(JPIO_mfeof): Likewise.
	(JPIO_mferror): Likewise.
	(JPIO_mfileno): Likewise.
	(JPIO_mgetc): Likewise.
	(JPIO_mgetchar): Likewise.
	(JPIO_mputchar): Likewise.
	* jpio.h, jclearer.c (JPIO_clearerr): Changed accordingly.
	* jpio.h, jfeof.c (JPIO_feof): Ditto.
	* jpio.h, jferror.c (JPIO_ferror): Ditto.
	* jpio.h, jgetc.c (JPIO_getc): Ditto.
	* jpio.h, jgetchar.c (JPIO_getchar): Ditto.
	* jpio.h, jputc.c (JPIO_putc): Ditto.
	* jpio.h, jputchar.c (JPIO_putchar): Ditto.

Wed Jan 10 12:46:12 1996  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfp.c: Removed stuff about the atexit function.
	* local.h: Likewise.

	* jfp.c (_JPIO_init): Changed the return type to `void'.
	(_JPIO_cleanup): Likewise.
	* local.h: Changed accordingly.

	* local.h (IS_GR): More parentheses.

	* jfflush.c: Include the <local.h> header.

	* jfflush.c (JPIO_fflush): Typo fix.

	* jpio.h (SEEK_SET, SEEK_CUR, SEEK_END): Defined unless already
        defined.
	* jfseek.c (JPIO_fseek): Re-implemented using `JPIO_fsetpos'.
	* jrewind.c: New file.
	* jpio.h: Added declarations for new functions.
	* Makefile.in: Changed accordingly.

	* jpio.h (JPIO_fpos_t): New typedef.
	(JPIO_decoder): Replaced `prev' with `pending_size' and `pending'.
	* jdecode.c (JPIO_create_decoder): Maintain `pending_size' and
        `pending' instead of `prev'.
	(JPIO_reset_decoder): Likewise.
	(JPIO_flush_decoder): Likewise.
	(JPIO_decode_eucjp): Likewise.
	(JPIO_decode_sjis): Likewise.
	(JPIO_decode_iso2022jp): Likewise.
	(JPIO_decode_autoconv): Likewise.
	* jfgetpos.c, jfsetpos.c, jftell.c: New files.
	* jpio.h: Added declarations for new functions.
	* Makefile.in: Changed accordingly.

	* jpio.h (JPIO_FILE): Added a new member `bytes'.
	* jfp.c: Changed accordingly.
	* jfill.c (_JPIO_fill): Allocate an array for the `bytes' member
        if necessary.
	* jdecode.c (PUT1, PUT2, PUT3): New macros.
	(JPIO_decode): Accept an additiona arguemnt `bytes'.
	(JPIO_decode_noconv): Likewise.
	(JPIO_decode_eucjp): Likewise.
	(JPIO_decode_sjis): Likewise.
	(JPIO_decode_iso2022jp): Likewise.
	(JPIO_decode_autoconv): Likewise.
	* jfclose.c (JPIO_almost_close): Free the `bytes' member of the
	stream unless it is a null pointer.

	* jfnputs.c (JPIO_fnputs): Put the first character using
	`JPIO_putc' if no buffer is allocated or the stream is in the
	state right after a file positioning operation has been applied,
	regardless of buffering mode.
	* jflush.c (_JPIO_flush): If the coding system is `autoconv', it
	is changed to the default output coding system.
	(_JPIO_flush): Mark the flags that indicates that an output operation
	has been performed.
	* jfill.c (_JPIO_fill): Accept an update stream in which the most
	recent operation was not output.
	(_JPIO_fill): Set a flag that indicates that an input operation has
	been performed.
	* jfill.c (JPIO_fill_setup): Removed.  The contents of this
	function has been integrated into `_JPIO_fill'.

	* local.h (struct source): New structure.
	* jfscanf.c, jscanf.c, jsscanf.c, jv_scanf.c: New files.
	* jpio.h, local.h: Added declarations for new functions.
	* Makefile.in: Changed accordingly.

	* local.h (struct destination): New structure.
	* jfprintf.c, jprintf.c, jsprintf.c, jv_print.c, jvfprint.c,
        jvprintf.c, jvsprint.c: New files.
	* jpio.h, local.h: Added declarations for new functions.
	* Makefile.in: Changed accordingly.

	* jfopen.c (JPIO_create_stream): New function.  This is almost the
	same as `JPIO_fopen' except that the underlying standard I/O
	stream is given.
	(JPIO_fopen): Changed to invoke `JPIO_create_stream'.
	* jfclose.c (JPIO_almost_close): New function.  This is almost the
	same as `JPIO_fclose' except that it does not close the underlying
	standard I/O stream.  Furthermore, it does not flush the buffer if
	the stream is an update stream in which the most recent operation
	was not output.
	(JPIO_fclose): Changed to invoke `JPIO_almost_close'.
	* jfreopen.c: New file.
	* jpio.h, local.h: Added declarations for new functions.
	* Makefile.in: Changed accordingly.

	* jencode.c, jfclose.c, jfill.c, jflush.c, jfp.c, jsetvbuf.c:
        Include the <config/stdlib.h> header.

	* jpio.h (_JPIO_getchar): New macro.
	(_JPIO_putchar): Ditto.
	(JPIO_getchar): Ditto.
	(JPIO_putchar): Ditto.
	* jgetchar.c, jputchar.c: New files.
	* jpio.h: Added declarations for new functions. 

	* jclearer.c, jfeof.c, jferror.c, jfgets.c, jfputs.c, jgets.c,
        jperror.c, jputs.c, jsetbuf.c: New files.
	* Makefile.in, jpio.h: Changed accordingly.

Sun Oct 29 09:47:09 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfnputs.c: Include <config/string.h> instead of
        <config/memory.h>.

Sat Oct 28 13:26:49 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfill.c, jflush.c, jfnputs.c, jsetvbuf.c: Do not include
        <config.h>.  This header is now included from <config/*.h>.

Tue Sep 26 14:10:31 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfopen.c (JPIO_fopen): Initialize the `fill', `flush', `decoder'
	members explicitly.

Tue Sep 19 03:43:00 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfnputs.c (fnputs): Do not invoke `fwrite' if the given size is
        non-positive.

Mon Sep 18 14:08:26 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfnputs.c: New file.
	* Makefile, jpio.h: Changed accordingly.

Thu Aug 31 07:39:21 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* local.h: Do not use GC library.

	* jencode.c (JPIO_encode): Use malloc instead of malloc_atomic.
	* jfill.c (JPIO_fill_setup): Likewise.
	* jflush.c (_JPIO_flush): Likewise.
	* jfp.c (_JPIO_getttyent): Likewise.

Mon Aug 21 11:35:51 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jsetvbuf.c: New file.
	* Makefile.in: Changed accordingly.

Wed Aug 16 06:31:35 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* local.h (SS2): Casted to `unsigned char' explicitly.

Fri Aug  4 08:00:21 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jdecode.c (JPIO_decode): Re-implemented.
	(JPIO_decode_noconv, JPIO_decode_eucjp, JPIO_decode_sjis,
	JPIO_decode_iso2022jp, JPIO_decode_autoconv): New internal
	functions.

	* jflush.c (JPIO_flush_noconv, JPIO_flush_eucjp,
	JPIO_flush_sjis, JPIO_flush_iso2022jp): Use fwrite instead of
	putc.

	* jpio.h: Removed type definitions for transition rules.

	* local.h (ESC, ICS, ICM): New symbolic constants.

Wed Aug  2 04:47:26 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jpio.h: Added declaration for JPIO_encode.

	* jencode.c: New file.
	* Makefile.in: Changed accordingly.

Mon Jul 31 12:21:30 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfflush.c (_JPIO_fflush): Call _JPIO_synctty for terminal
        streams.

	* jfp.c (_JPIO_synctty): Call _JPIO_settty when a character set is
        changed.

Sat Jul 29 08:37:41 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jpio.h (JPIO_feof): Typo fix.

Sat May 20 11:56:31 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Make use of MK_MISC_SOURCES and MK_NON_SOURCES.

Sat May  6 12:26:52 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Added remove.bat to the list of miscellaneous
        source files.

Sun Apr 30 12:09:29 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Restricted the use of MK_PATH_NAME.

Fri Apr 28 03:55:11 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jsetcset.c (JPIO_setcset): Flush the stream if it is connected
        to a terminal device.

Thu Apr 27 14:20:52 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfclose.c (JPIO_fclose): Pass the second argument to
        JPIO_setcset.

	* jpio.h (JPIO_FILE): Added tty as a new member.
	* jfopen.c (JPIO_fopen): Support for the terminal synchronization.
	* jflush.c, jfill.c: Support for the terminal synchronization.

	* jfp.c (_JPIO_getttyent, _JPIO_synctty, _JPIO_settty): New
        functions.
	* local.h: Added declarations for _JPIO_getttyent, _JPIO_synctty,
	and _JPIO_settty.

	* local.h (struct JPIO_ttyent): New structure.
	* jfp.c (_JPIO_ttys): New static variable.

	* jpio.h (struct JPIO_decoder_rep): Added charset as a new member.
	* jdecode.c: Support for the charset member of JPIO_decoder.

Sat Apr  1 13:30:50 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Current directory is now jpio.

Fri Mar 31 12:01:50 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: Changed the definition of ARCHIVE.
	(install): Do nothing.

	* Makefile.in: Define MISC_SRC.

Thu Mar 30 10:56:10 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in (install): Do ranlib after installation.

	* jdecode.c, jfclose.c: Include "local.h".

Wed Mar 29 13:46:10 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* Makefile.in: New file.

Mon Mar 27 02:39:57 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* csysconf.h: Removed.

	* jfill.c, jflush.c: Include <config/unistd.h> instead of
        <c/isatty.h>.

Thu Jan 26 16:04:37 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jdecode.c (JPIO_tans_rules_noconv, JPIO_transtab_noconv): New
        variables.
	(JPIO_transtabs): Support for the noconv coding system.
	(JPIO_decode): Receive the size of input as an argument.  There
	is no need for input to be terminated by a null character.  All
	callers changed.

	* jfill.c (_JPIO_fill): Do not use fgets when line buffered.
	Instead, read character by character so that the number of
	characters can be determined even if a null character is in them.

Mon Jan 16 06:55:16 1995  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* jfclose.c, jfflush.c, jfgetc.c, jflush.c, jfopen.c, jfp.c,
        jfputc.c, jfseek.c, jgetc.c, jgetcsys.c, jputc.c, jsetcsys.c,
        local.h: Doc fix.

	* local.h (IC_1, IC_2, FC_NULL, MKJCHAR, IS_GL, IS_SJIS1,
        IS_SJIS2, IS_GR_SJIS1, IS_GR_SJIS2, ESC, fill_t, flush_t):
        Removed.  Specifies constants in a hexadecimal notation.  local.h:
        Does not declare the isatty function.

	* jfp.c: Include <config.h> instead of "config.h" and
        "csysconf.h".
	(_JPIO_stdio): Uses DEFAULT_INPUT_CODING_SYSTEM and
        DEFAULT_OUTPUT_CODING_SYSTEM for default coding systems.

	* jfopen.c: Includes <config.h> instead of "csysconf.h".
	(JPIO_fopen): Uses DEFAULT_INPUT_CODING_SYSTEM and
        DEFAULT_OUTPUT_CODING_SYSTEM for default coding systems.

	* jflush.c: Include <c/isatty.h> together with <config.h> for a
        declaration of the isatty function.

	* jfill.c: Completely rewritten.

	* jfclose.c (JPIO_fclose): Frees the buffer only if _JPIO_MBF is
        set in flags.  Clears the pointer to the buffer.

	* jfclose.c (JPIO_fclose): Renamed from jfclose.
	* jfflush.c (JPIO_fflush): Renamed from jfflush.
	(_JPIO_fflush): Renamed from _jfflush.
	* jfgetc.c (JPIO_fgetc): Renamed from jfgetc.
	* jflush.c (_JPIO_flush): Renamed from _jflush.
	(JPIO_flush_noconv): Renamed from _jflush_ascii.
	(JPIO_flush_eucjp): Renamed from _jflush_eucjp.
	(JPIO_flush_sjis): Renamed from _jflush_sjis.
	(JPIO_flush_iso2022jp): Renamed from _jflush_iso2022jp.
	* jfopen.c (JPIO_fopen): Renamed from jfopen.
	(JPIO_flags): Renamed from _jflags.
	* jfp.c (_JPIO_stdio): Renamed from _jstdio.
	(_JPIO_initialized): Renamed from _jinitialized.
	(_JPIO_fptable): Renamed from _jfptable.
	(_JPIO_findfp): Renamed from _jfpfind.
	(_JPIO_forall): Renamed from _jforall.
	(_JPIO_init): Renamed from _jinit.
	(_JPIO_cleanup): Renamed from _jcleanup.
	* jfputc (JPIO_fputc): Renamed from jfputc.
	* jfseek.c (JPIO_fseek): Renamed from jfseek.
	* jgetc.c (JPIO_getc): Renamed from jgetc.
	* jgetcsys.c (JPIO_getcsys): Renamed from jgetcsys.
	* jputc.c (JPIO_putc): Renamed from jputc.
	* jsetcset.c (JPIO_setcset): Renamed from jsetcset.
	* jsetcsys.c (JPIO_setcsys): Renamed from jsetcsys.
	* jungetc.c (JPIO_ungetc): Renamed from jungetc.

	* sjis.c, jdecode.c: New files.

	* jfclose.c, jfflush.c, jfgetc.c, jfputc.c, jfseek.c, jgetc.c,
        jgetcsys.c, jputc.c, jsetcset.c, jsetcsys.c, jungetc.c: Do not
        include "local.h".

	* jpio.h: Renamed from jstdio.h.
	* All source files include <jpio.h> instead of <jstdio.h>.

Wed Sep 28 06:01:33 1994  Tetsu Ushijima  <ushijima@is.titech.ac.jp>

	* local.h: Use GC library by default.

	* local.h, jungetc.c, jsetcsys.c, jsetcset.c, jputc.c, jgetcsys.c,
        jgetc.c, jfseek.c, jfputc.c, jfp.c, jfopen.c, jflush.c, jfill.c,
        jfgetc.c, jfflush.c, jfclose.c: New files.
