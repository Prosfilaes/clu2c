/* Generated by clu2c (version 1.99.3) */
/* option, optimize time */
/* depend,system_default,file_name,file_name_expand_home_directory,stream*/

#include <clu2c.h>

static STRING_REP(4) str1 = {4, {'~', 'C', 'L', 'U'}};
static STRING_REP(7) str2 = {7, {'i', 'n', 'c', 'l', 'u', 'd', 'e'}};
static STRING_REP(2) str3 = {2, {'-', 'I'}};
static STRING_REP(3) str4 = {3, {' ', '-', 'w'}};
static STRING_REP(3) str5 = {3, {'l', 'i', 'b'}};
static STRING_REP(5) str6 = {5, {'c', 'l', 'u', '2', 'c'}};
static STRING_REP(1) str7 = {1, {'a'}};
static STRING_REP(3) str8 = {3, {'o', 'u', 't'}};
static STRING_REP(2) str9 = {2, {'c', 'c'}};
static STRING_REP(1) str10 = {1, {'m'}};
static STRING_REP(4) str11 = {4, {'r', 'e', 'a', 'd'}};
static STRING_REP(2) str12 = {2, {':', ' '}};
static STRING_REP(2) str13 = {2, {'C', 'C'}};
static STRING_REP(4) str14 = {4, {'L', 'I', 'B', 'S'}};
static STRING_REP(2) str15 = {2, {'-', 'l'}};
static STRING_REP(8) str16 = {8, {'C', 'O', 'F', 'F', '2', 'E', 'X', 'E'}};
static STRING_REP(8) str17 = {8, {'~', 'C', 'L', 'U', '/', 'l', 'i', 'b'}};
static STRING_REP(7) str18 = {7, {'c', 'l', 'u', 'l', 'i', 'n', 'k'}};
static STRING_REP(3) str19 = {3, {'d', 'e', 'f'}};

/* begin module */
/* c_function_name, OFsystem__default_Dcreate */
/* clu_operation_name, system_default$create */
int OFsystem__default_Dcreate()
{
  object LVdef= 0;
  object LVdefault= 0;
  int t1, t2, t3, t4, t5, t6, t7;
  /* begin body */
  if (OFsystem__default_Dread__definition() == SIG)
    {
      goto except1;
    }
  LVdef = retval_area[0];
  if (FALSE)
    {
    except1:
      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
        {
	  return(SIG);
        }
      else
        {
	  goto except0;
        }
    }
  t1 = OMrecord_Dget(1, LVdef);
  if (OFsystem__default_Ddefault__cc__flags() == SIG)
    {
      goto except0;
    }
  t2 = retval_area[0];
  if (OFsystem__default_Ddefault__lib__dirs() == SIG)
    {
      goto except0;
    }
  t3 = retval_area[0];
  if (OFsystem__default_Ddefault__libs() == SIG)
    {
      goto except0;
    }
  t4 = retval_area[0];
  OFsequence_Dconcat(t4, OMrecord_Dget(3, LVdef));
  t5 = retval_area[0];
  if (OFsystem__default_Ddefault__output() == SIG)
    {
      goto except0;
    }
  t6 = retval_area[0];
  t7 = OFrecord_D__alloc(6);
  OMrecord_Dset(1, t7, t1);
  OMrecord_Dset(2, t7, t2);
  OMrecord_Dset(3, t7, OMrecord_Dget(2, LVdef));
  OMrecord_Dset(4, t7, t3);
  OMrecord_Dset(5, t7, t5);
  OMrecord_Dset(6, t7, t6);
  LVdefault = t7;
  retval_area[0] = LVdefault;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dget__cc */
/* clu_operation_name, system_default$get_cc */
int OFsystem__default_Dget__cc(LVdefault)
     object LVdefault;
{
  /* begin body */
  retval_area[0] = OMrecord_Dget(1, LVdefault);
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dget__cc__flags */
/* clu_operation_name, system_default$get_cc_flags */
int OFsystem__default_Dget__cc__flags(LVdefault)
     object LVdefault;
{
  /* begin body */
  retval_area[0] = OMrecord_Dget(2, LVdefault);
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dget__lib__dirs */
/* clu_operation_name, system_default$get_lib_dirs */
int OFsystem__default_Dget__lib__dirs(LVdefault)
     object LVdefault;
{
  /* begin body */
  retval_area[0] = OMrecord_Dget(4, LVdefault);
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dget__libs */
/* clu_operation_name, system_default$get_libs */
int OFsystem__default_Dget__libs(LVdefault)
     object LVdefault;
{
  /* begin body */
  retval_area[0] = OMrecord_Dget(5, LVdefault);
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dget__output */
/* clu_operation_name, system_default$get_output */
int OFsystem__default_Dget__output(LVdefault)
     object LVdefault;
{
  /* begin body */
  retval_area[0] = OMrecord_Dget(6, LVdefault);
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dget__coff2exe */
/* clu_operation_name, system_default$get_coff2exe */
int OFsystem__default_Dget__coff2exe(LVdefault)
     object LVdefault;
{
  /* begin body */
  retval_area[0] = OMrecord_Dget(3, LVdefault);
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Ddefault__cc__flags */
/* clu_operation_name, system_default$default_cc_flags */
int OFsystem__default_Ddefault__cc__flags()
{
  object LVincludedir= 0;
  int t1, t2;
  /* begin body */
  if (OFfile__name_Dcreate(((string) &str1), ((string) &str2), SLNULL, SLNULL) == SIG)
    {
      goto except0;
    }
  LVincludedir = retval_area[0];
  if (AFfile__name__expand__home__directory(LVincludedir) == SIG)
    {
      goto except0;
    }
  LVincludedir = retval_area[0];
  if (OFfile__name_Dunparse(LVincludedir) == SIG)
    {
      goto except0;
    }
  t1 = OMstring_Dsize(((string) &str3))
       + OMstring_Dsize(retval_area[0])
       + OMstring_Dsize(((string) &str4));
  t2 = OFstring_D__predict(t1);
  OFstring_D__concat(t2, ((string) &str3));
  OFstring_D__concat(t2, retval_area[0]);
  OFstring_D__concat(t2, ((string) &str4));
  retval_area[0] = t2;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Ddefault__lib__dirs */
/* clu_operation_name, system_default$default_lib_dirs */
int OFsystem__default_Ddefault__lib__dirs()
{
  int t1;
  /* begin body */
  if (OFfile__name_Dcreate(((string) &str1), ((string) &str5), SLNULL, SLNULL) == SIG)
    {
      goto except0;
    }
  t1 = OFsequence_D__alloc(1);
  OMsequence_D__store(t1, 1, retval_area[0]);
  retval_area[0] = t1;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Ddefault__libs */
/* clu_operation_name, system_default$default_libs */
int OFsystem__default_Ddefault__libs()
{
  int t1;
  /* begin body */
  t1 = OFsequence_D__alloc(1);
  OMsequence_D__store(t1, 1, ((string) &str6));
  retval_area[0] = t1;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Ddefault__output */
/* clu_operation_name, system_default$default_output */
int OFsystem__default_Ddefault__output()
{
  object LVoutput= 0;
  /* begin body */
  if (OFfile__name_Dcreate(SLNULL, ((string) &str7), ((string) &str8), SLNULL) == SIG)
    {
      goto except0;
    }
  LVoutput = retval_area[0];
  retval_area[0] = LVoutput;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dread__definition */
/* clu_operation_name, system_default$read_definition */
int OFsystem__default_Dread__definition()
{
  object LVcc= 0;
  object LVlibs= 0;
  object LVcoff2exe= 0;
  object LVfn= 0;
  object LVinput= 0;
  int t1, t2, t3;
  /* begin body */
  LVcc = ((string) &str9);
  t1 = OFsequence_D__alloc(1);
  OMsequence_D__store(t1, 1, ((string) &str10));
  LVlibs = t1;
  LVcoff2exe = SLNULL;
  if (OFsystem__default_Ddefinition__file__name() == SIG)
    {
      goto except0;
    }
  LVfn = retval_area[0];
  if (OFstream_Dopen(LVfn, ((string) &str11)) == SIG)
    {
      goto except1;
    }
  LVinput = retval_area[0];
  if (FALSE)
    {
    except1:
      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
        {
	  object LVwhy= 0;
	  LVwhy = sigarg_area[0];
	    {
	      if (OFfile__name_Dunparse(LVfn) == SIG)
	        {
		  goto except0;
	        }
	      t1 = OMstring_Dsize(retval_area[0])
	           + OMstring_Dsize(((string) &str12))
	           + OMstring_Dsize(LVwhy);
	      t2 = OFstring_D__predict(t1);
	      OFstring_D__concat(t2, retval_area[0]);
	      OFstring_D__concat(t2, ((string) &str12));
	      OFstring_D__concat(t2, LVwhy);
	      sigarg_area[0] = t2;
	      signame = SLNOT_POSSIBLE;
	      return(SIG);
	    }
        }
      else
        {
	  goto except0;
        }
    }
  while (TRUE)
    {
        {
	  object LVline= 0;
	  object LVi= 0;
	  object LVname= 0;
	  object LVvalue= 0;
	  if (OFstream_Dgetl(LVinput) == SIG)
	    {
	      goto except2;
	    }
	  LVline = retval_area[0];
	  OFstring_Dindexc('=', LVline);
	  LVi = retval_area[0];
	  if (OMint_Dequal(LVi, 0))
	    {
	      continue;
	    }
	  if (OFstring_Dsubstr(LVline, 1, OMint_Dsub(LVi, 1)) == SIG)
	    {
	      goto except2;
	    }
	  LVname = retval_area[0];
	  if (OFstring_Drest(LVline, OMint_Dadd(LVi, 1)) == SIG)
	    {
	      goto except2;
	    }
	  LVvalue = retval_area[0];
	  if (OMstring_Dequal(LVname, ((string) &str13)))
	    {
	      LVcc = LVvalue;
	    }
	  else
	    {
	      if (OMstring_Dequal(LVname, ((string) &str14)))
	        {
		  OFsequence_Dnew();
		  LVlibs = retval_area[0];
		    {
		      object LVs= 0;
		      for (t1 = OFsystem__default_Dwords(TRUE, &t2, LVvalue);
		           t1 == YIELD;
		           t1 = OFsystem__default_Dwords(FALSE, &t2, 0))
		        {
			  LVs = retval_area[0];
			    {
			      t3 = FALSE;
			      if (OMint_Dgt(OMstring_Dsize(LVs), 2))
			        {
				  OFstring_Dindexs(((string) &str15), LVs);
				  if (OMint_Dequal(retval_area[0], 1))
				    {
				      t3 = TRUE;
				    }
			        }
			      if (t3)
			        {
				  if (OFstring_Drest(LVs, 3) == SIG)
				    {
				      goto except2;
				    }
				  OFsequence_Daddh(LVlibs, retval_area[0]);
				  LVlibs = retval_area[0];
			        }
			    }
		        }
		      free(t2);
		      if (t1 == SIG)
		        {
			  goto except2;
		        }
		    }
	        }
	      else
	        {
		  if (OMstring_Dequal(LVname, ((string) &str16)))
		    {
		      LVcoff2exe = LVvalue;
		    }
	        }
	    }
        }
    }
  if (FALSE)
    {
    except2:
      if (OMstring_Dequal(signame, SLEND_OF_FILE))
        {
        }
      else
        {
	  goto except0;
        }
    }
  if (OFstream_Dclose(LVinput) == SIG)
    {
      goto except0;
    }
  t1 = OFrecord_D__alloc(3);
  OMrecord_Dset(1, t1, LVcc);
  OMrecord_Dset(2, t1, LVcoff2exe);
  OMrecord_Dset(3, t1, LVlibs);
  retval_area[0] = t1;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* c_function_name, OFsystem__default_Dwords */
/* clu_operation_name, system_default$words */
#define INV_TOP 4
#define WORK_SIZE 4
int OFsystem__default_Dwords(init, ivarp, LVs)
     bool init;
     int **ivarp;
     object LVs;
{
  if (init)
    {
      *ivarp = (int*) malloc(WORK_SIZE*sizeof(int));
      (*ivarp)[1] = LVs;
    }
  else
    {
      switch ((*ivarp)[0])
  	{
  	  case 1: goto yield1;
  	  case 2: goto yield2;
  	}
    }
  /* begin body */
  (*ivarp)[2] = 1;
  while (TRUE)
    {
        {
	  while (TRUE)
	    {
	      if (OMstring_Dbounds((*ivarp)[1], (*ivarp)[2]))
	        {
		  signame = SLBOUNDS;
		  goto except1;
	        }
	      if (!OMchar_Dequal(OMstring_Dfetch((*ivarp)[1], (*ivarp)[2]), ' '))
	        {
		  break;
	        }
	        {
		  (*ivarp)[2] = OMint_Dadd((*ivarp)[2], 1);
	        }
	    }
	  (*ivarp)[3] = OMint_Dadd((*ivarp)[2], 1);
	  while (TRUE)
	    {
	      if (OMstring_Dbounds((*ivarp)[1], (*ivarp)[3]))
	        {
		  signame = SLBOUNDS;
		  goto except2;
	        }
	      if (!OMbool_Dnot(OMchar_Dequal(OMstring_Dfetch((*ivarp)[1], (*ivarp)[3]), ' ')))
	        {
		  break;
	        }
	        {
		  (*ivarp)[3] = OMint_Dadd((*ivarp)[3], 1);
	        }
	    }
	  if (FALSE)
	    {
	    except2:
	      if (OMstring_Dequal(signame, SLBOUNDS))
	        {
		  if (OFstring_Drest((*ivarp)[1], (*ivarp)[2]) == SIG)
		    {
		      goto except1;
		    }
		  retval_area[0] = retval_area[0];
		  (*ivarp)[0] = 1;
		  return YIELD;
		yield1:
		  NO_OPERATION;
		  return RET;
	        }
	      else
	        {
		  goto except1;
	        }
	    }
	  if (OFstring_Dsubstr((*ivarp)[1], (*ivarp)[2], OMint_Dsub((*ivarp)[3], (*ivarp)[2])) == SIG)
	    {
	      goto except1;
	    }
	  retval_area[0] = retval_area[0];
	  (*ivarp)[0] = 2;
	  return YIELD;
	yield2:
	  NO_OPERATION;
	  (*ivarp)[2] = OMint_Dadd((*ivarp)[3], 1);
        }
    }
  if (FALSE)
    {
    except1:
      if (OMstring_Dequal(signame, SLBOUNDS))
        {
        }
      else
        {
	  goto except0;
        }
    }
  /* end body */
  return(RET);
except0:
  out_handler(SLNULL);
  return(SIG);
}
#undef INV_TOP
#undef WORK_SIZE
/* c_function_name, OFsystem__default_Ddefinition__file__name */
/* clu_operation_name, system_default$definition_file_name */
int OFsystem__default_Ddefinition__file__name()
{
  /* begin body */
  if (OFfile__name_Dcreate(((string) &str17), ((string) &str18), ((string) &str19), SLNULL) == SIG)
    {
      goto except0;
    }
  retval_area[0] = retval_area[0];
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* end module */
