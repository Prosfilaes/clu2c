/* Generated by clu2c (version 1.99.3) */
/* option, optimize time */
/* depend,primary_target,file_name,output_target,target,user*/

#include <clu2c.h>

static STRING_REP(3) str1 = {3, {'e', 'x', 'e'}};
static STRING_REP(3) str2 = {3, {' ', '$', '<'}};

/* begin module */
/* c_function_name, AFprimary__target */
/* clu_operation_name, primary_target */
int AFprimary__target(LVu)
     object LVu;
{
  object LVprimary= 0;
  int t1, t2;
  /* begin body */
  if (OFuser_Dget__coff2exe(LVu) == SIG)
    {
      goto except0;
    }
  if (OMstring_Dempty(retval_area[0]))
    {
      if (OFuser_Dget__output(LVu) == SIG)
        {
	  goto except0;
        }
      if (AFoutput__target(LVu, retval_area[0]) == SIG)
        {
	  goto except0;
        }
      LVprimary = retval_area[0];
    }
  else
    {
      object LVfn= 0;
      object LVcoff= 0;
      if (OFuser_Dget__output(LVu) == SIG)
        {
	  goto except0;
        }
      LVfn = retval_area[0];
      if (OFfile__name_Dget__suffix(LVfn) == SIG)
        {
	  goto except0;
        }
      if (OMstring_Dequal(retval_area[0], ((string) &str1)))
        {
	  if (OFfile__name_Dget__dir(LVfn) == SIG)
	    {
	      goto except0;
	    }
	  t1 = retval_area[0];
	  if (OFfile__name_Dget__name(LVfn) == SIG)
	    {
	      goto except0;
	    }
	  t2 = retval_area[0];
	  if (OFfile__name_Dget__other(LVfn) == SIG)
	    {
	      goto except0;
	    }
	  if (OFfile__name_Dcreate(t1, t2, SLNULL, retval_area[0]) == SIG)
	    {
	      goto except0;
	    }
	  LVfn = retval_area[0];
        }
      if (AFoutput__target(LVu, LVfn) == SIG)
        {
	  goto except0;
        }
      LVcoff = retval_area[0];
      if (OFfile__name_Dget__dir(LVfn) == SIG)
        {
	  goto except0;
        }
      t1 = retval_area[0];
      if (OFfile__name_Dget__name(LVfn) == SIG)
        {
	  goto except0;
        }
      t2 = retval_area[0];
      if (OFfile__name_Dget__other(LVfn) == SIG)
        {
	  goto except0;
        }
      if (OFfile__name_Dcreate(t1, t2, ((string) &str1), retval_area[0]) == SIG)
        {
	  goto except0;
        }
      LVfn = retval_area[0];
      if (OFtarget_Dcreate(LVfn) == SIG)
        {
	  goto except0;
        }
      LVprimary = retval_area[0];
      if (OFtarget_Dadd__prereq(LVprimary, LVcoff) == SIG)
        {
	  goto except0;
        }
      if (OFuser_Dget__coff2exe(LVu) == SIG)
        {
	  goto except0;
        }
      t1 = OMstring_Dsize(retval_area[0])
           + OMstring_Dsize(((string) &str2));
      t2 = OFstring_D__predict(t1);
      OFstring_D__concat(t2, retval_area[0]);
      OFstring_D__concat(t2, ((string) &str2));
      if (OFtarget_Dset__action(LVprimary, t2) == SIG)
        {
	  goto except0;
        }
    }
  retval_area[0] = LVprimary;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* end module */
