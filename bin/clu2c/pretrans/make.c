/* Generated by clu2c (version 1.99.3) */
/* option, optimize time */
/* depend,make,command_line,m_env,make_compile,process_commands,put_undefs,stream,xref*/
/* depend,make_compile,all_input_file_names,compile1,fixup_refs,output_refs,setup_stuff,stream*/
/* depend,put_undefs,stream*/

#include <clu2c.h>

static STRING_REP(10) str1 = {10, {'u', 'p', '_', 't', 'o', '_', 'd', 'a', 't', 'e'}};
static STRING_REP(27) str2 = {27, {'A', 'l', 'l', ' ', 'C', ' ', 'f', 'i', 'l', 'e', 's', ' ', 'a', 'r', 'e', ' ', 'u', 'p', ' ', 't', 'o', ' ', 'd', 'a', 't', 'e', '.'}};
static STRING_REP(4) str3 = {4, {'n', 'o', 'n', 'e'}};
static STRING_REP(19) str4 = {19, {'N', 'o', 't', 'h', 'i', 'n', 'g', ' ', 't', 'o', ' ', 'b', 'e', ' ', 'd', 'o', 'n', 'e', '.'}};
static STRING_REP(5) str5 = {5, {'m', 'e', 'r', 'g', 'e'}};
static STRING_REP(12) str6 = {12, {'u', 'n', 's', 'u', 'c', 'c', 'e', 's', 's', 'f', 'u', 'l'}};
static STRING_REP(9) str7 = {9, {'*', '*', '*', ' ', 'S', 't', 'o', 'p', '.'}};
static STRING_REP(15) str8 = {15, {'N', 'o', ' ', 'D', 'U', ' ', 's', 'p', 'e', 'c', 's', ' ', 'o', 'f', ' '}};
static STRING_REP(2) str9 = {2, {',', ' '}};

/* begin module */
/* c_function_name, AFmake */
/* clu_operation_name, make */
int AFmake(LVe)
     object LVe;
{
  object LVoutst= 0;
  object LVargs= 0;
  object LVem= 0;
  object LVok1= 0;
  object LVok2= 0;
  int t1, t2, t3, t4, t5;
  /* begin body */
  LVoutst = OMrecord_Dget(15, LVe);
  if (OFm__env_Drestore(LVe) == SIG)
    {
      goto except1;
    }
  LVem = retval_area[0];
  if (FALSE)
    {
    except1:
      if (OMstring_Dequal(signame, ((string) &str1)))
        {
	  if (OFstream_Dputl(LVoutst, ((string) &str2)) == SIG)
	    {
	      goto except2;
	    }
	  if (FALSE)
	    {
	    except2:
	      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
	        {
	        }
	      else
	        {
		  goto except0;
	        }
	    }
	  retval_area[0] = TRUE;
	  return RET;
        }
      else if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
        {
	  if (OFm__env_Dcreate(LVe) == SIG)
	    {
	      goto except3;
	    }
	  LVem = retval_area[0];
	  if (FALSE)
	    {
	    except3:
	      if (OMstring_Dequal(signame, ((string) &str3)))
	        {
		  if (OFstream_Dputl(LVoutst, ((string) &str4)) == SIG)
		    {
		      goto except4;
		    }
		  if (FALSE)
		    {
		    except4:
		      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
		        {
		        }
		      else
		        {
			  goto except0;
		        }
		    }
		  retval_area[0] = TRUE;
		  return RET;
	        }
	      else
	        {
		  goto except0;
	        }
	    }
        }
      else
        {
	  goto except0;
        }
    }
  OFoneof_Dmake(2, LVem);
  OMrecord_Dset(12, LVe, retval_area[0]);
  LVok1 = TRUE;
  if (OFm__env_Dget__merge__args(LVem) == SIG)
    {
      goto except0;
    }
  LVargs = retval_area[0];
  if (OMbool_Dnot(OMarray_Dempty(LVargs)))
    {
      object LVjcl= 0;
      LVjcl = ((string) &str5);
        {
	  object LVarg= 0;
	  for (t1 = LVargs, t2 = OMarray_Dlow(t1), t3 = OMarray_Dhigh(t1);
	       t2 <= t3;
	       t2++)
	    {
	      LVarg = OMarray_Dfetch(t1, t2);
	        {
		  OFstring_Dappend(LVjcl, ' ');
		  t4 = OMstring_Dsize(retval_area[0])
		       + OMstring_Dsize(LVarg);
		  t5 = OFstring_D__predict(t4);
		  OFstring_D__concat(t5, retval_area[0]);
		  OFstring_D__concat(t5, LVarg);
		  LVjcl = t5;
	        }
	    }
        }
      if (OFcommand__line_Dcreate(LVjcl) == SIG)
        {
	  goto except5;
        }
      t1 = retval_area[0];
      if (AFprocess__commands(t1, OMrecord_Dget(15, LVe), 3) == SIG)
        {
	  goto except5;
        }
      if (FALSE)
        {
	except5:
	  if (OMstring_Dequal(signame, ((string) &str6)))
	    {
	      LVok1 = FALSE;
	    }
	  else
	    {
	      goto except0;
	    }
        }
    }
  if (OFm__env_Dget__ce__args(LVem) == SIG)
    {
      goto except0;
    }
  LVargs = retval_area[0];
  if (OMbool_Dnot(OMarray_Dempty(LVargs)))
    {
      t1 = FALSE;
      if (LVok1)
        {
	  if (AFmake__compile(5, LVargs, LVoutst) == SIG)
	    {
	      goto except0;
	    }
	  if (retval_area[0])
	    {
	      t1 = TRUE;
	    }
        }
      LVok1 = t1;
    }
  t1 = FALSE;
  if (LVok1)
    {
      if (OFm__env_Dget__specs__args(LVem) == SIG)
        {
	  goto except0;
        }
      if (AFmake__compile(4, retval_area[0], LVoutst) == SIG)
        {
	  goto except0;
        }
      if (retval_area[0])
        {
	  t1 = TRUE;
        }
    }
  LVok1 = t1;
  t1 = FALSE;
  if (LVok1)
    {
      if (OFm__env_Dget__compile__args(LVem) == SIG)
        {
	  goto except0;
        }
      if (AFmake__compile(3, retval_area[0], LVoutst) == SIG)
        {
	  goto except0;
        }
      if (retval_area[0])
        {
	  t1 = TRUE;
        }
    }
  LVok2 = t1;
  if (LVok2)
    {
      object LVundefs= 0;
      OFarray_Dnew();
      LVundefs = retval_area[0];
        {
	  object LVundef= 0;
	  for (t1 = OFxref_Dkeys(TRUE, &t2, OMrecord_Dget(17, LVe));
	       t1 == YIELD;
	       t1 = OFxref_Dkeys(FALSE, &t2, 0))
	    {
	      LVundef = retval_area[0];
	        {
		  OMarray_Daddh(LVundefs, LVundef);
	        }
	    }
	  free(t2);
	  if (t1 == SIG)
	    {
	      goto except0;
	    }
        }
      if (OMbool_Dnot(OMarray_Dempty(LVundefs)))
        {
	  if (AFput__undefs(LVundefs, LVoutst) == SIG)
	    {
	      goto except0;
	    }
	  LVok2 = FALSE;
        }
    }
  if (LVok2)
    {
      if (OFm__env_Dget__check__args(LVem) == SIG)
        {
	  goto except0;
        }
      LVargs = retval_area[0];
      if (OMbool_Dnot(OMarray_Dempty(LVargs)))
        {
	  if (AFmake__compile(1, LVargs, LVoutst) == SIG)
	    {
	      goto except0;
	    }
	  LVok2 = retval_area[0];
        }
    }
  if (LVok1)
    {
      if (OFm__env_Ddump(LVem) == SIG)
        {
	  goto except6;
        }
      if (FALSE)
        {
	except6:
	  if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
	    {
	    }
	  else
	    {
	      goto except0;
	    }
        }
    }
  if (LVok2)
    {
      if (OFstream_Dputl(LVoutst, ((string) &str2)) == SIG)
        {
	  goto except7;
        }
    }
  else
    {
      if (OFstream_Dputl(LVoutst, ((string) &str7)) == SIG)
        {
	  goto except7;
        }
    }
  if (FALSE)
    {
    except7:
      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
        {
        }
      else
        {
	  goto except0;
        }
    }
  retval_area[0] = LVok2;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* end module */

/* begin module */
/* c_function_name, AFmake__compile */
/* clu_operation_name, make_compile */
int AFmake__compile(LVmode, LVargs, LVoutst)
     object LVmode;
     object LVargs;
     object LVoutst;
{
  object LVe= 0;
  object LVsuffixes= 0;
  object LVok= 0;
  int t1, t2, t3;
  /* begin body */
  if (AFsetup__stuff(LVmode, LVoutst) == SIG)
    {
      goto except0;
    }
  LVe = retval_area[0];
  LVsuffixes = retval_area[1];
  LVok = TRUE;
    {
      object LVfn= 0;
      for (t1 = AFall__input__file__names(TRUE, &t2, LVargs, LVsuffixes, LVoutst);
           t1 == YIELD;
           t1 = AFall__input__file__names(FALSE, &t2, 0, 0, 0))
        {
	  LVfn = retval_area[0];
	    {
	      t3 = FALSE;
	      if (AFcompile1(LVe, LVfn) == SIG)
	        {
		  goto except1;
	        }
	      if (retval_area[0])
	        {
		  if (LVok)
		    {
		      t3 = TRUE;
		    }
	        }
	      LVok = t3;
	      if (AFfixup__refs(LVe, LVoutst) == SIG)
	        {
		  goto except1;
	        }
	    }
        }
      free(t2);
      if (t1 == SIG)
        {
	  goto except1;
        }
    }
  if (FALSE)
    {
    except1:
      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
        {
        }
      else
        {
	  goto except0;
        }
    }
  if (AFoutput__refs(LVe, LVoutst) == SIG)
    {
      goto except0;
    }
  retval_area[0] = LVok;
  return RET;
  /* end body */
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* end module */

/* begin module */
/* c_function_name, AFput__undefs */
/* clu_operation_name, put_undefs */
int AFput__undefs(LVundefs, LVoutst)
     object LVundefs;
     object LVoutst;
{
  int t1, t2;
  /* begin body */
    {
      object LVhigh= 0;
      if (OFstream_Dputs(LVoutst, ((string) &str8)) == SIG)
        {
	  goto except1;
        }
      LVhigh = OMarray_Dhigh(LVundefs);
        {
	  object LVi= 0;
	  for (t1 = OMarray_Dlow(LVundefs), t2 = OMarray_Dhigh(LVundefs); t1 <= t2; t1++)
	    {
	      LVi = t1;
	        {
		  if (OMarray_Dbounds(LVundefs, LVi))
		    {
		      signame = SLBOUNDS;
		      goto except1;
		    }
		  if (OFstream_Dputs(LVoutst, OMarray_Dfetch(LVundefs, LVi)) == SIG)
		    {
		      goto except1;
		    }
		  if (OMint_Dequal(LVi, LVhigh))
		    {
		      if (OFstream_Dputc(LVoutst, '\n') == SIG)
		        {
			  goto except1;
		        }
		    }
		  else
		    {
		      if (OFstream_Dputs(LVoutst, ((string) &str9)) == SIG)
		        {
			  goto except1;
		        }
		    }
	        }
	    }
        }
    }
  if (FALSE)
    {
    except1:
      if (OMstring_Dequal(signame, SLNOT_POSSIBLE))
        {
        }
      else
        {
	  goto except0;
        }
    }
  /* end body */
  return(RET);
except0:
  out_handler(SLNULL);
  return(SIG);
}
/* end module */
